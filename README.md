# FromZerotoExpert
## 项目简介

Web项目

## 数据库设计

### 设计数据库表中需要考虑的几个问题：

1. **表中主键字段设计为自增还是不自增？**

因为mysql中默认使用Innodb存储引擎，mysql建立主键索引默认为聚簇索引，而Innodb存储引擎创建的聚簇索引默认使用B+ Tree索引，B+ Tree索引是用B+树数据结构实现的。B+树的叶子节点存放完整的数据记录，而其它节点只存放主键值。B+是是按索引值（主键值）顺序构建的，这样可以提供查询速度，支持范围查询，因为B+树所有的叶子节点构成一个双向链表。当使用自增主键时，那每次新插入的数据就按顺序放在当前索引节点的位置，不需要移动数据，当页面被写满后，会自动开辟出一个新的页面。而使用非自增主键，这时每次插入数据的主键值是随机的，这条数据可能会插入到当前数据页的中间位置，这时就需要移动其它原有数据的位置，甚至会造成当前数据页的数据移动到其它数据页，称为**页分裂**。页分裂还可能会造成大量的内存碎片，使索引结构不紧凑，影响索引查询的速度。所以从索引优化的角度来看，主键字段应该设计为自增的。

 2.**应该在哪些字段上建立索引？不应该在哪些字段上建立索引？**

索引的存在是为了帮助提高查询速度。但建立索引需要花费时间和占用空间，后期还需要动态维护索引。索引要建立合适的索引。

**应该建立索引的字段：**

* 值唯一的字段建立唯一索引。
* 经常用于where、order by、group by的字段。如果不止一个字段，可以考虑建立联合索引。有时候使用索引可以省去对查询结果排序的时间。

**不应该建立索引的字段：**

* 字段中有大量重复数据的字段。比如性别字段，你根据性别搜索，都可能得到表中一半的数据，此时还不如不要索引。
* 不经常用于where、order by、group by的字段。
* 经常需要跟新的字段。如果一个字段经常跟新，那么维护这个字段的索引可能会造成很大的开销。
* 表数据太少时，可以不建立索引，直接使用全表扫描。

### 表的设计

用户表：

* 主键(id)：int
* 昵称(username)：varchar(32)
* 账号(useraccount): varchar(16)
* 密码(password): varchar(16)
* 性别(sex):char(2)

